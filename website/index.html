<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Movie Recommendation Engine</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

     <link href="https://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet"></link>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/creative.min.css" rel="stylesheet">

    <link href="css/mystyles.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Back to beginning</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#BasicStats">Basic Stats</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Sentimental">Text Analysis</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Networks">Networks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#HowWeRecommend">Recomending</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#searcher">The engine</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Conclusion">Conclusion</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead text-center text-white d-flex">
      <div class="container my-auto">
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <h1 class="text-uppercase">
              <strong>Social Graphs and Interactions  </strong>
            </h1>
            <hr>
          </div>
          <div class="col-lg-8 mx-auto">
            <p class="text-faded mb-5">Hi! have you been wondering how to make a movie search engine or are you just in desperate need of recommendation? If so, you've come to the right place, otherwise we recommend you leave.</p>
            
          </div>
        </div>
      </div>
    </header>

    <section class="col-lg-12 col-sm-12 bg-dark text-white" id="about">
      <div class="container">
        <div class="row">
          <div class="col-lg-10 col-sm-10 mx-auto ">
            <div class="text-center">
            <h2 class="section-heading">About the project</h2>
            <hr class="my-4">
          </div>
            <p class=" mb-4"> How many times have you been searching Netflix, Hulu, HBO, IMDb or other similar web services for a good movie to watch? How many times have you thought to yourself, 'Darn it! I just want to watch a movie like Moneyball, what a great movie!' or, 'I really liked Shawshank Redemption where can I find something similar?' If you have experienced this horrible life experience, of either searching for a movie and not finding any, or just wanting to see something similar to your favorite movie. We're here for you! We've created the solution, the last recommendation engine you'll need! The engine uses both text analysis and network theory to predict what movies you want to see based on what movies you like. By scrolling to the bottom of this webpage, or, by simply clicking <a class = "makeWhite" href="#searcher"><span class="download"> here</span></a> you can access the recommendation engine immediately. However, if you are interested in reading about how the engine works, you can simply scroll downwards this website, where all the relevant info will be covered.
            </p>

      
              <div class="text-center">
                <h4 class="section-heading">The dataset</h4>
            </div>

              <p>
                In order to make the recommendation engine, we needed to gather information about a loads of movie's. Furthermore, multiple datasets where needed to build the recommendation engine, as all of them included some unique useful elements to build the engine. Firstly, a dataset from Kaggle was used. The dataset isnâ€™t quite big, around 50 mb, but it contains a lot of information. It includes close to 20 properties for around 5000 movies. Next, as we wanted to make use of text analysis the storyline from IMDb was scraped for all the movies in the Kaggle dataset. In addition to that the IMDb rating for each movie in the Kaggle dataset was also scraped. Lastly, a ton of movie scripts and reviews for each movie in the dataset where found. The idea was to use sentiment analysis and similarity measures on these texts, to figure out if a movie is happy/sad or similar to some other movie. All the datasets can be found and downloaded 
                 <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0"> 
                  <span class="download">here.</span> 
                 </a>
                Finally we did a lot of interesting analysis on the datasets and it is thourougly explained in the explainer notebook which can be accessed 
                <a class = "makeWhite" href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <span class="download">here</span>, 
                </a>
                this notebook contains all the code used in the analysis as well as more detailed explanations and conclusions of each part. We will only show subset of the analysis in this website and therefore we encourage you to take a look at the explainer notebook.
              </p>    
          </div>
        
        <div class="col-lg-6 text-center" style ="margin: 15px"></div>
          
          <div class="col-lg-6 addMargin">
             <h4 class="mb-4"> TMDb 5000 Movie dataset </h4>
               <p>
                This was the central dataset in our analysis. This dataset fulfilled our requirements. It contains a vast amount of data and all of the information is gather From the website 

                <a class = "makeWhite" href="https://www.themoviedb.org/"> 
                    <span class="download">TMDb</span> 
                 </a>

                (The Movie Database). The dataset can be found and downloaded from this <a class = "makeWhite" href="https://www.kaggle.com/tmdb/tmdb-movie-metadata"> 
                                            <span class="download">website.</span> 
                                        </a>
               </p> 

            <h5 class="mb-4">Most important attributes</h5>
              <p>  The dataset contains 22 attributes, they are not all equally important for our analysis and therefore we will only consider a subset of them here, more detailed information can be found in the explainer notebook. </p>

             <ul>
                <li><strong> Title </strong> : the name of the movie </li>
                <li><strong>Crew</strong> : info about the crew members of the movie</li>
                <li><strong>Cast</strong> : info about the cast member of the movie</li>
                <li><strong>Genres</strong> : there are 17 movie genres in this dataset</li>
                <li><strong>Production companies</strong> : the company/companies that produced the movie</li>
                <li><strong>Release date</strong>: the date when the movie was released</li>
                <li><strong>Runtime</strong> : the total length of the movie</li>
                <li><strong>Vote count</strong> : how many users rated the movie on the TMDb website</li>
                <li><strong>Vote average</strong> : the average rating that the movie got on the TMDb website</li>
                <li><strong>Revenue</strong> : The total earnings of the movie</li>
                <li><strong>Budget</strong> : The amount spent on making the movie</li>
                <li><strong>keywords</strong> : Set of words that is explanatory of the movie</li>
              </ul>


             <h5 class="mb-4">statistics</h5>
             <ul>
                <li>The dataset contains information about 4800 movies</li>
                <li>The number of cast members ~ 72000</li>
                <li>Number of movie's genre : 17</li>
                <li>The movies span years from 1916-2017</li>
              </ul>
          </div> 


          <div class="col-lg-6 addMargin">
             <h4 class="mb-4"> Additional gathered datasets </h4>

            <h5 class="mb-4"> User rating and storylines from IMDb </h5>
              <p>   The Kaggle database contains ratings and storylines (called overview in the TMDb dataset) from TMDb but we also wanted to look at user ratings and the storylines from 
            
                 <a class = "makeWhite" href="http://www.imdb.com/"> 
                  <span class="download">IMDb</span> 
                 </a>

               (Internet Movie Database) as the ratings have much more votes and thus are more realistic.  By scraping the IMDb website we manage to gather information for all movies in our Kaggle database except five</p>

             <ul>
                  <li> 
                    <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0"> 
                      <span class="download"><strong>imdb-score.json </strong> </span> 
                    </a>
                    : This file contains the IMDb rating of the movies in our Kaggle dataset. The size of the file is 85 KB </li>

                  <li>
                    <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0"> 
                      <span class="download"><strong>imdb-storyline.json</strong>  </span> 
                    </a>
                    : This file contains the IMDb storyline of the movies in our Kaggle dataset. The size of the file is 2.8 MB</li>
            </ul>

            <h5 class="mb-4"> Manuscripts </h5>
              <p>  The website 

              <a class = "makeWhite" href="http://www.imsdb.com/"> 
                                            <span class="download">The Internet Movie Script Database (IMSDb) </span> 
              </a>

              had the most comprehensive database of manuscripts that we could find. Unfortunately they are not offering the possibility of downloading the scripts, however we manage to download the manuscripts by scraping the IMSDb website </p>

            <ul>
                  <li>
                    <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0"> 
                      <span class="download"><strong> /scripts </strong> </span> 
                    </a>

                    : This folder contains 1116 manuscripts and the intersection with our Kaggle dataset is 715 manuscripts. Therefore we only managed to find manuscripts for 715 movies out of the 4800 movies that we have in our dataset. The size of the dataset is 232,6 MB
               </li>
            </ul>


            <h5 class="mb-4"> User reviews </h5>
              <p>   We found a data set that contained a 100.000 user reviews from IMDb on some 14.000 movies. The dataset is available on the 
              <a class = "makeWhite" href="http://ai.stanford.edu/"> 
                              <span class="download"> Stanford Artificial Intelligence Laboratory </span> 
              </a>
              website and can be downloaded by clicking here
                    <a class = "makeWhite" href="http://ai.stanford.edu/~amaas/data/sentiment/"> 
                                                  <span class="download">here</span> 
                    </a>
              </p>

             <ul>
                <li>
                    <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0"> 
                      <span class="download"><strong> aclImdb_v1.tar.gz </strong> </span> 
                    </a>
                  
                    : This zip file contains all of the 100.000 movie reviews. The total size unzipped is 220 MB</li>
              </ul>

          </div> 


          </div>
        </div>

        </div>   
      </div>


<div class="col-lg-3 col-sm-10 mx-auto text-center">
<div class="row">

             <div title="View the explanier notebook" class="col-lg-6 col-sm-10 mx-auto text-center">
               <a href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
               <a class = "makeWhite" href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <h3 class ="download">Notebook </h3>
               </a>
            </div>
          <div title="Download the Datasets" class="col-lg-6 col-sm-10 mx-auto text-center">
            <a href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0">
            <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0">
              <h3 class ="download">Datasets</h3>
            </a>
          </div>      
</div>  

    </section>



    <section id="BasicStats">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading">Basic Stats</h2>
            <hr class="my-4">
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <p>In order to get a better feel for the dataset we take a look at some important measures of our datasets. We start off by looking at the scraped data from IMDb. The first figure shows the distribution of the ratings, while the second the storyline similarity distribution. From the first figure we can see that most ratings are around 6.5, the mean rating is 6.42. It is also interesting to see that there are very few movies in the extreme ends of the plot. The distribution looks somewhat like the gaussian distribution where the vast majority of the values fall around the mean value. As most people would rather watch movies with higher IMDb rating, preferably higher than 7, we can use this information to influence the search engine.

            The second figure then shows the distribution of similarities between the movie storylines. Here we used TF-IDF and cosine similarity to calculate the similarity between movies. Most movies do not have any similarity, as you would expect. It would be pretty awful if the engine would conclude that 'Cat Woman' and 'Shawshank Redemption' where the one and the same, wouldnâ€™t it? However, the similarity works quite well. The movies which are similar get a higher value, e.g. 'Iron Man' and 'Iron Man 2' are pretty similar. The figure below shows the distribution of the similarities, there we see that although the cosine distance is between 0 and 1, the values in the distribution are only between 0 and 0.5. We utilize this fact when building the network. Note that the figure below excludes the movies with zero similarity, as they are so many that you can't really see the distribution of the other similarities. However, we suggest that interested readers look at the <span class="download">explainer notebook</span> for a more detailed description.

              </p>
          </div>

          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/imdb_rating.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/imdb_similarity.png" alt="">
          </div>


        <p class = "addMargin">Now itâ€™s time to go through the Kaggle dataset. As mentioned earlier, it has a bunch of variables. However, when building the network, they arenâ€™t equally important. When watching a movie there are some things that are more important than others. You would watch a movie because it has great actors, directors, is a part of a particular genre or has some other exciting things about it. The figures below show the actors/actresses which have starred in the most movies and the directors which have directed most movies. When looking at the names of the actors/actresses one might think that Star Wars fans would be happy as we have two great actors from there. Furthermore, it is surprising that Nicholas Cage is not in the most common actors/actresses list, as he has starred in a lot of movies! The directors are all well known, and as can be seen have directed many movies. One interesting thing regarding these results is that these are all males. This clearly shows the male dominance in the movie business. However, that is a material for another post.</p>
        

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/actors.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/directors.png" alt="">
          </div>

          <p class = "addMargin">
           Finally, we look at how the distribution of the genre is in the movies. We see that there is a huge class imbalance in our dataset, there are so many 'Drama' movies and so few 'War Movies'. This is a problem we need to be aware of. The figure here show the count of movies associated with each genre (movies can have multiple genres). 

           Next, we look at the popularity of keywords associated with each movie. Every movie in the Kaggle dataset has a bunch of keywords associated to them. These words are supposed to describe the movie. It is interesting to see that 'women director' is the most common keyword. It seems to be quite important to illustrate the fact that it was actually a woman that directed the movie. This again (we have seen this multiple times in the analysis) shows how male dominant this industry is. The fact that a woman directs the movie seems to be considered as a special feature of the movie and the movie producers think that it is important to illustrate that fact by having it as a keyword of the movie.
          Everything else seems to be like one could expect. The cities 'New York', 'Los Angeles' and 'London' are also highly used keywords which illustrates the fact that most movies are supposed to occur in these cities.
          'Sex' and 'Love' are also on the list which is not surprising, we all know that humans like to watch movies that involve love and sex scenes. More interestingly is to see that 'Violence', 'Revenge' and 'Murder' are more frequently used than 'Love' and 'Sex'.


         </p>


          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/genres.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/keywords_pop.png" alt="">
          </div>

          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/CorrelationFig1.png" alt="">
          </div>

           <div class="col-lg-6 addMargin">
            <p class = "addMargin">The figure here on the side shows the correlation between variables in the Kaggle dataset.
              The correlation between the TMDb rating and the IMDb rating is interesting, there seems to be less positive correlation between these values than one would expect. This is most likely do to the fact that the TMDb rating is based on much less data, fewer votes on average, than the IMDb rating. Based on this information we decided to only use the IMDb ratings in further analysis of the dataset.
            Interestingly we see that the budget and the revenue of a movie is highly correlated which means that if a movie has a high budget then the movie is more likely to get higher revenue in the end. Like everyone knows, you need to spend money to make money! The reader can look deeper into the figure to see how the variables in the dataset correlate. However, if the reader is lazy, we again highly recommend checking out the  <a href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <span class="download">explanatory notebook</span>
                </a> to be fed like a toddler with juicy code and explanations.
</p>
          </div>

          <p class = "addMargin"> Next, we bring you the WORDCLOUD. The figures in the carousel down below show the keywords which describe each genre the best. It is interesting to see that 'woman director' is a frequently used keyword in comedies and romantic movies. Love is frequently used in 'Fantasy' movies, this is something one would probably not expect? Or at least the writers of this post where clueless about. Most romantic movies seem to occur in New York, not Paris, we donâ€™t believe the French will be happy with this. Either way, everything else is quite like you would expect, it is quite fun to see what keywords are used most frequently in each genre. We encourage an interested reader to take a look at these word clouds.</p>


          <div class="w3-content w3-section text-center centerImage" style="max-width:500px">
  <img class="mySlides" src="img/wordcloud/action.png" style="width:100%">
  <img class="mySlides" src="img/wordcloud/adventure.png" style="width:100%">
  <img class="mySlides" src="img/wordcloud/animation.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/comedy.png" style="width:100%">


  <img class="mySlides" src="img/wordcloud/crime.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/documentary.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/drama.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/Family.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/fantasy.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/foreign.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/hist.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/horror.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/music.png" style="width:100%">


  <img class="mySlides" src="img/wordcloud/Mystery.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/Romance.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/scienceFic.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/thrill.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/tvmov.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/war.png" style="width:100%">

  <img class="mySlides" src="img/wordcloud/western.png" style="width:100%">

  <button class="w3-button w3-black w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
  <button class="w3-button w3-black w3-display-right" onclick="plusDivs(1)">&#10095;</button>
</div>

<script>




var myIndex = 0;
showDivs(myIndex);
carousel();

function plusDivs(n) {
  showDivs(myIndex += n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {myIndex = 1}    
  if (n < 1) {myIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[myIndex-1].style.display = "block";  
}





function carousel() {
    var i;
    var x = document.getElementsByClassName("mySlides");
    for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";  
    }
    myIndex++;
    if (myIndex > x.length) {myIndex = 1}    
    x[myIndex-1].style.display = "block";  
    setTimeout(carousel, 5000); // Change image every 2 seconds
}
</script>

        </div>
      </div>
    </section>

    

    <section class="bg-dark text-white" id = "Sentimental">
      <div class="container text-center">

        <h2 class="mb-4">Text Analysis</h2>
        <hr class="my-4">
        <div class="row">
        
        <p>The initial idea was to find manuscripts for all of the 5000 movies from the Kaggle dataset. Then analyze these manuscripts and calculate both similarities between movies and sentiment score for each movie. This information could then be fed to the recommendation engine as two variables. This would help the engine distinguish between happy and sad movies. Furthermore, the similarity measure could help the recommendation engine to find movies with similar vocabulary. </p>

        
           
          
           <p> In this section we will focuse on the sentiment analysis of the manuscripts. The sentiment of each manuscript is calculated using the happiness rank from the LabMT wordlist.  It's available as supplementary material from 
                <a class = "makeWhite" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0026752#s2"> 
                      <span class="download"><strong>  Temporal Patterns of Happiness and Information in a Global Social Network: Hedonometrics and Twitter </strong> </span> 
                </a> (Data Set S1).

             We start off by looking at the 10 movies with the 'happiest' and 'unhappiest' movie manuscripts. Happy in the sens that the mean sentiment value of the manuscrip is high and vice versa for the 'unhappy' manuscripts. Looking at the figures down bellow we can't say that the results are suprising. The movies with the highest average sentiment score are all so called "feel good movies", which any sane person would expect, before hand, to have quite happy vocabulary. When taking a look at the movies with the  lowest sentiment score, we are not suprised. These are all movies that are either action or horror movies, where the movie envolves around something dark like death or war. </p>
           <p>
            Next we take a look at the variance. If a movie has a large variance in the sentiment values of its manuscript then the vocabulary used in the manuscript must be quite diversed, meaning that that the movie  must contain a lot of happy and unhappy words. The 10 movies with most variance are movies that are both considered as a Thriller/Action/Crime/Horror and a Comedy/Romance. Like for example the movie Deadpool; it is a dark comedy which is also consider to be a action or a adventure movie. Deadpool is a comedy that contains a lot of violence and so it is understandable that the happiness rank of the words used in the manuscript vary alot.


            The bottom 10 list are all movies that are either about something happy, like comedies or romance movies or they are on the darker side of spectrum meaning that the storyline is about something which can be considered unhappy, like Horror movies, dark Drama movies or dark Action/Thriller movies. Therefore the sentimental value of the words used in the manuscript do not vary as much.

           </p>
           

           <div class="col-lg-6 text-center" style ="margin: 10px"></div>

            <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/sentiment_mean.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/sentiment_var.png" alt="">
          </div>
              
           
<div class="col-lg-6 text-center" style ="margin: 10px"></div>


    <p> Next we will take a look at if there is a difference in happiness rank between different movie genres. We do not have equal amount of manuscripts for each genre, therefore the result cannot be taken as the whole truth but this still gives us a good idea of the behavior. Looking at the figures here down below  </p>

     <ul>
        <li>
            The genres Music, Romance, Comedy, Drama and Family are the 5 genres with the highest average of the mean sentiment values like one could have expected. These genres of movies seem to have the happiest manuscripts on average based on the LabMT wordlist.

        </li>
        <li>
            Similarly it is easy to understand why War, Western, Action and Horror movies have low mean sentiment values on average. Movies within these genres are often about the dark sides of life and therefore the moviescripts contain a lot of words that we human consider unhappy words. Words like war, guns, fights and so on.
        </li>
        <li>
            The genres History, Drama, Comedy and Fantasy seem to have the most variance of the mean happiness value of the manuscripts (see boxplot). This shows us that these genres have diverse movies within the genre, meaning that some of the movies within the genre are considered to be sad or unhappy while other movies in the same genre are considered happy. It is trivial to agree with these findings. Let's take the History genre for example; one history movie can be about war which would be considered something sad and then there could be another history movie in the database that is about how love has changed over the years, that movie would be consider to be quite positive or happy.
        </li>
        <li>
            The movies Family and Western have the least variance within the average of the mean sentiment values (see boxplot). This is also something that we can easily agree with. Movies that are classified as family movies are most often about something that is happy, something that the whole family can watch together and are so called "feel good movies". There are not many family movies that are about something dark and unhappy and therefore the median and the mean sentiment value is quite high for these types of movies and the variance of the mean values is low. In contrast, western movies are nearly all about something dark; fights, war, robbery or life struggle. There are few happy western movies out there, at least we haven't seen a single one in our life.
        </li>
        <li>
            The genre Science Fiction contains the least average variance within the sentiment values of each manuscript. This came as a surprise to us. The vocabulary used in the Science Fiction's manuscripts does not vary as much between very happy words and very unhappy words like the for the other genres.
        </li>

        <li>
          The genres with the highest average variance within the vocabulary of the manuscripts is Music, Romance, Comedy, Fantasy and Western. The first three genres are understandable because one can expect movies of these genres to have vocabulary that varies quite a lot between happy and sad words but the genre Western caught our attention. The vocabulary used in the western movies seems to be diverse which we did not expect in the beginning. However, when you think about it these movies often contain some romantic stories within the storyline and therefore most often contain some amount of words that are considered to be very happy. 

        </li>
      </ul>


           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/manuscriptBox.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/sentimentAnalysisGenredata.png" alt="">
          </div>

          <div class="col-lg-12 text-center" style ="margin: 20px"></div>

          <div class="text-center">

           <h4 class="mb-4">Some final thoughts</h4>

          <p> 
          We did a lot of analysis on the manuscripts, the initial idea was to use these findings as a variable into the recommendation engine. We did not manage to find manuscripts for all of the movies in our dataset and therefore we did not think that it would be a good idea to use this information in the recommendation engine. What we did instead was to scrape the movie's storylines from IMDb and use similarity measures on them as a variable into our recommendation engine which resulted in a improved recommendation engine.
          </p>
          <p>
          That being said, we consider these analysis to be a proof of concept, we have proven that the result of a sentiment analysis of the manuscripts could be used as a variable into a recommendation engine. For example both the mean sentiment value of a movie's manuscript and the variance of the sentiment values of the movie's manuscripts provide useful information about what kind of a movie we are talking about. For example if the mean sentiment value is high then the movie is most likely a so called 'feel good movie' and we could recommend movies that have similar mean sentiment values. Likewise we have discussed how the  variance of the sentiments give a valuable information about the movie, if the variance is high then there is a lot of contradictions in the storyline meaning for example that the movie is either a dark movie that has some happy moments in it (romance or comedy) or that the movie is most likely a dark comedy.
          
          </p>

          <p>
          So for further development of the recommendation engine we could've spent more time on finding more manuscripts for the movies or we could've downloaded the subtitles for each movie which should provide us with similar information about the movie.  
          </p>

          </div>
    

        </div>

      </div>
    </section>

    <section class="" id = "Networks">

    <div class="container">
      <div class="row">

           <div class="col-lg-12">
            <h2 class="mb-4 text-center">Networks</h2>
            <hr class="my-4">
          </div>
         

          <div class="col-lg-12">
              <h4 class="mb-4">Intro</h4><p>The plan was to build a recomandation engine that a user inputs a name of a movie (which is a node in a network) and from that movie we find all the shortest distances in the network and recommend the movies which are closest. We decided it would be best to implement a weighted network, since nodes which are connected can have different importance. For example, if we have some movie, lets say 'Iron Man', our network can have multiple edges from that movie. However, the movies it links to are not all equally similar to 'Iron Man', and thus we add weights to the edges. Lastly a movie with few edges can be similar to some movies which are not connected to them directly, but there might be a short path in the network which connects them. We first tried three other networks that did not yield the desired result and wouldn't suffice as the basis of our recommendation engine. We therefore decided to combine those three networks and a bit more of data into one big network. The main network is built upon our analysis on the simpler networks, the basic statistic and text analysis. In order to make a edge in the network, some similarities between the movies must exist. It was decided that what mattered in order to make a edge between movies was the following: 

              <ul>
                <li>A ratio of common keywords</li>
                <li>A ratio of common genres</li>
                <li>A ratio of common actors/actresses</li>
                <li>A ratio of common directors</li>
                <li> In addition to that we looked at IMDb ratings and how similar the storylines of movies are.</li>
              </ul>
            </p>
          </div>  

          <div class="col-lg-6">
              <h4 class="mb-4">Constructing the network</h4><p>
              When making the network various decisions regarding what constraints needed to be fulfilled to make an edge and what the weight of that edge should be. We start the discussion on the constraints. The constraints build upon four dimensions: genre, keywords, actors and director. All of these things are calculated in a similar fashion. We find all the common things in both movies, by their; genres, keywords, actors and directors and then we normalize it by dividing by the movie which has less items in each dimension. Each of these values are then multiplied by an importance coefficient, and if the total sum of the scaled dimension variables is more than 0.3 (a arbitrary threshold) we make an edge.  The value of the importance was chosen by guesswork and trial-and-error. Since there is no correct answer to which movies you recommend we tweaked it until we were happy with the results generated. However, there were some things we kept in mind though. As we now have only normalized variables, we can select importance coefficients so that the total sum of the scaled dimension variable can have at maximum the value of 1. Furthermore, we keep in mind that none of the importance coefficients can excite 0.3, that way we force our network to only make connection if at least two dimension variables are active. 
              <br>
              Now we need to assign a weight to the network to decide how close the nodes should be in the network. Here, we assign a weight to the edge by subtract both the sum of the scaled dimension variables which satisfied the constraint and the similarities between the movies with some arbitrary positive number (keep in mind that when calculating the shortest path with Dijkstra all weights must be positive). This way, movies that have similar keywords, genre, actors, directors and storylines are closer in the network. Note that we use the similarity between storylines only in deciding on the weight of the edge. The reason for this is that although the movies might have similar storylines the movies could be very different. For example, a romance and a horror story might connect, depending on the language used in the storyline on IMDb. For further info we recommend looking at the   <a class = "makeBlack" href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <span class="download">Explainer notebook</span> 
                </a>.</p>

          </div>  

          <div class="col-lg-6">
             <h4 class="mb-4">Information about the network</h4><p>We can see from the images that the degree distribution follows a power law, which tells us that this is a scale-free network. This indicates that there are few hubs in this network. This translates to the fact that there are small number of movies that are very similar to many other movies and therefore have many links. However, most movies are only similar to few movies making them only link to few other movies. This results in the fact that there are few movies which will more frequently be recommended than others. Furthermore, these hubs may possibly link other movies together as many movies travel through them.</p>
             <p>
               The network was test on 'Iron Man 2' to inspect how well it was doing. After some attempts on trail and error, adjusting the important coefficients and selecting right properties to use, we finally arrived at a good solution. the 5 most similar movies according to the network were: 'Iron Man', 'Iron Man 3', 'Captain America: Civil War', 'Zathura: A Space Adventure' and 'Avengers: Age Of Ultron'. Only movie that kind of stood out there in our eyes was 'Zathura' but it turns out that, among other things, it is directed by the same director as 'Iron Man 2'.</p> 
             <h4 class="mb-4">The network in numbers:</h4>
             <ul class="list-group">
                <li class="list-group-item">Size: 4.794 nodes and 71.718 edges</li>
                <li class="list-group-item">The cluster coefficient is ~0.348 for the whole network and ~0.378 for the giant component</li>
                <li class="list-group-item">The modularity of the 8 communities found by Python-Louvain is ~0.592</li>
                <li class="list-group-item">The minimum and maximum degree of the network is 0 and 394 respectively</li>
                <li class="list-group-item">The median and mean degree is 13 and ~29.9 respectively</li>
              </ul>
          </div> 
          
          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/degreeLinear.png" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/degreeLog.png" alt="">
          </div>

          <div class="col-lg-12 text-center">
            <img class="img-fluid" src="img/main_network1.PNG" alt="">
          </div>



          <div class="col-lg-12">
              <h4 class="mb-4">Communities</h4>
              <p>
                  To identify communities in this network we used the Louvain community detection algorithm which identifies communities in a network. The communities are then movies that are all closely connected with each other but not as much to movies in other communities. We ran the algorithm on the giant component of our network and the result can be seen in the figure here down below. The algorithm found  8 communities and the modularity. It is interesting to inspect how the communities found in the network actually correspond to the genres of the movies, this is illustrated in the figure here down below. We can see that we are definitely on to something here, at least in respect to genres. The communities have a correlation to genres. In community 2 we have 'kids' movies, that is 'Family, 'Adventure' and 'Animation'. There are five communities where the majority of the films are labeled as romantic movies, although they differ a bit, e.g. community 4 clearly has romantic films with some thriller in it while the other romantic communities don't. Community 6 is clearly for exciting movies, 'Thriller', 'Action' and 'Crime are high there. In community 3 we have 'Action' movies, also high in 'Sci-fi' and 'Adventure'. Community 7 is almost only documentaries, which is good, if you like to watch documentaries thats where you should look.

                  <br>
                  <br>

                  We can see that this network turns out to be quite good for our recommendation engine, we have almost all of our 5000 movies in the network, the cluster coefficient is 0.348 and modularity of our communities is 0.592 which is quite high, especially considering there are only 8 communities. Just to clearify, modularity of zero means that we take the whole network as a single community. Modularity can not go above 1 but the higher it is for a specific partition of the network, the better is the corresponding community structure. Therefore we can safely conclude that the community division found in our network is rather good. 

                  <br>
                  <br>

                  Testing the recommendation engine proves that this works quite well and we're pleased with the results. Deciding which properties and their weight to use took some time and was mostly fine tuned through trial-and-error.

              </p>
          </div>  



          <div class="col-lg-12 text-center">
            <img class="img-fluid" src="img/main_network_communities_giant.PNG" alt="">
          </div>


          <div class="col-lg-12 text-center">
            <img class="img-fluid" src="img/communities.PNG" alt="">
          </div>

          <!-- now that we have used up all the 12 coloumbs in this row , lets go create a new "row class" , Alas in the same container -->
      </div>  <!-- end of row -->
      

    </section>
      </div>
    </div>
  </section>


    <section class="bg-dark text-white" id = "HowWeRecommend">
      <div class="container text-center">
        <h2 class="mb-4">How we recommend</h2>
        <hr class="my-4">
      </div>

      <div class="container">
        <div class="row">
          <div class="col-lg-12">



            <p>
            We have discussed how we created a network that links similar movies together. Now the question is, how did we use this to get recommendation for each movie? After having created the network the process of recommending movie can be split up into three parts. 

            <ul>
                <li>Firstly, we calculated the shortest path from all movies to all other movies in the network. To accomplish this we used Djikstra shortest path: The algorithm creates a tree of shortest paths from the starting vertex, the source, to all other points in the graph.</li>
                <li>Secondly, we used IMDb rating to shorten the distances. This will yield a shorter distance to movies which have higher IMDb rating. This should improve our search engine, since most people want to see highly rated movies rather than bad ones.</li>
                <li>Last but not least, we needed to handle the fact that some movies (nodes) do not have any links. However, we still want to recommend movies when people like to find similar movies to them.  In this case we depend only on the IMDb rating and the similarity between the movies' storylines. Thus we will only recommend a movie which should be somewhat similar and has a good IMDb rating.   </li>
            </ul>

            There you have it, after having executed these steps we have created a recommendation engine that works quite will in our opinion. You can try it out for yourself in the following section. If you want to dig deeper into the analysis and the code behind the engine you can check out our 
            <a class = "makeWhite" href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <span class="download">explanatory notebook.</span>
                </a>

            </p>


            </div>
        </div>

      </div>
    </section>

 <section id="searcher">
      <div class=" text-center text-center">
        
        <div class="container text-center">
          <h2 class="mb-4">The Recommendation engine</h2>
          <hr class="my-4">
        
            <p> Insert a movie that you like and we will find similar movies for you. If you either do not like any of the recommendation or if you have seen any of these movies then you can always remove the movie from the list and we will find another movie for you!</p>  
          </div>
              <div class="search" style="margin-bottom:14%">
              
                <input type="text" name="inputBox" placeholder="enter movie title here" id="term" />
              
                <button id="search" class="search_btn"><span class="icon-search"></span> <i class="icon-large icon-search"></i> Search</button>


                <div id="poster"></div>
          <div id="buttons"></div>

            </div>
         
      </div>
    </section>


    <section class="bg-dark text-white" id = "Conclusion">
      <div class="container text-center">
        <h2 class="mb-4">Conclusion</h2>
        <hr class="my-4">
      </div>

      <div class="container">
        <div class="row">
          <div class="col-lg-12">



            <p>We are all huge movie fans and therefore we had a lot of fun doing this project. We did a lot of analysis on the data set which can be found in the explainer notebook. We are quite happy about our findings and we are really proud of the final version of the recommendation engine. The recommendation engine is functioning quite well and we'll definitely be using it ourselves during the x-mas break when looking for movies to watch and we encourage you to try it out on the website.
            <br>
            <br>
            Although it turned out great we tried quite a lot of different things before we were satisfied. For the network part we looked at three different networks. We created a network where movies were connected if they shared a certain percentage of their keywords. We did the same for genres as well as one network where nodes were cast members and nodes were linked if the cast members had starred together in a certain number of movies. After analyzing each of the networks we decided that none of them were good enough. This resulted in us creating a fourth network (can be seen above) which would combine the properties of the previous three. Movies were nodes and to create edge to other movies we looked at multiple properties e.g. cast members, keywords, genres, directors and similarities in story line. After edges have been created and weâ€™re in the process of recommending we also look at IMDb ratings.
            <br>
            <br>
            The text analysis itself went well but it ended up not being used in the recommendation engine except for the storylines of the movies. The reason for this was that the data we had for text analysis, ~14.000 reviews and ~1.000 movie scripts, only applied to a subset of our 4800 movies. We didn't want to make the number of movies that we could recommend less than it was at the beginning. We did a lot of text analysis and made a proof of concept that the data couldâ€™ve been used in the recommendation engine. This tells us that we could have further improved the engine by getting manuscripts and reviews for all our movies. If not the manuscripts then we could've perhaps gotten the subtitle texts for each movie and do the same analysis on those texts and used the information to further improve our engine.
            <br>
            <br>

             Like we mentioned in the beginning, the analysis showed here are only subset of the analysis that we did. Therefore we encourage a enthusiastic reader to check out our Explainer Notebook which contains all of the code behind the analysis as well as much more detailed describtions of our methods and analysis.

            </p>


            </div>
        </div>

      </div>


      <div class="col-lg-3 col-sm-10 mx-auto text-center">
      <div class="row">

                   <div title="View the explanier notebook" class="col-lg-6 col-sm-10 mx-auto text-center">
                     <a href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                     <a class = "makeWhite" href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                        <h3 class ="download">Notebook </h3>
                     </a>
                  </div>
                <div title="Download the Datasets" class="col-lg-6 col-sm-10 mx-auto text-center">
                  <a href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0">
                  <a class = "makeWhite" href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0">
                    <h3 class ="download">Datasets</h3>
                  </a>
                </div>      
      </div>  

    </section>


   <!--  <script src="js/cour.js"></script> -->

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
     
     

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>


 

    <!-- Custom scripts for this template -->
    <script src="js/creative.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

       <!-- Autocomplite -->
     <script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js" ></script>

    <!-- the search enginee -->
    <script src="js/jscript.js"></script>



  </body>

</html>
