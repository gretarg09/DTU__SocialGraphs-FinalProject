<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>The  Searcher, search the world!</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

     <link href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet"></link>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/creative.min.css" rel="stylesheet">

    <link href="css/mystyles.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Back to begning</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#BasicStats">Basic Stats</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Sentimental">Text Analysis</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Networks">Networks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Conclusion">Conclusion</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#searcher">Search engine</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead text-center text-white d-flex">
      <div class="container my-auto">
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <h1 class="text-uppercase">
              <strong>Social Graphs and Interactions  </strong>
            </h1>
            <hr>
          </div>
          <div class="col-lg-8 mx-auto">
            <p class="text-faded mb-5">Hi! have you been wondering how to make a movie search engine or are just in despreate need of reccomenation? If so, you have come to the right place, otherwise we reccomend you leave.</p>
            
          </div>
        </div>
      </div>
    </header>

    <section class="col-lg-12 col-sm-12 bg-dark text-white" id="about">
      <div class="container">
        <div class="row">
          <div class="col-lg-10 col-sm-10 mx-auto text-center">
            <h2 class="section-heading">About the project</h2>
            <hr class="my-4">
            <p class=" mb-4"> How many times have you been searching Netflix, Hulu, HBO, IMDB or other similar web´s searching for a good movie to watch? How many times have you thought to yourself, shit I just want to watch a movie like Moneyball, what a great movie! or I really liked Shawshank Redemption where can I find something similar? If you have experienced this horrible life experiences, of either searching for a movie and not finding any, or just wanted to see something similar to your favorite movie. We are here for you. The engine uses both text analysis and network theory to predict what movies you want to see. By scrolling to the bottom of this webpage, or, by simply clicking this, you can access the search engine immediately. However, if you are interested about how the engine works, you can simply scroll downwards this website, where all the primary methods will be covered.
            </p>
            <p>
               In order to make the search engine, we needed to gather information about a loads of movie's. Furthermore, multiple datasets where needed to build the search engine, as all of them included some unique useful elements to build the engine. Firstly, a dataset from Kaggle was used. The dataset isn’t quite big, around 50 mb, but it contains a lot of information. It includes close to 20 properties for around 5000 movies. Next, as we wanted to make use of text analysis the storyline from IMDB was scraped for all the movies in the Kaggle dataset. In addition to that the IMDB rating for each movie in the Kaggle dataset was also scraped. Lastly, a ton of movie scripts and reviews for each movie in the dataset where found. The idea was to use sentiment analysis and similarity measures on these texts, to figure out if a movie is happy or similar to some other movie. All the datasets can be found and downloaded <span class="download">here</span>. Finally if you want to dig deep into the code you can access the explainer notebook <span class="download">here</span>, this notebook contains all the code used for building the website as well as a great explanation of that code.
            </p>

      


        </div>

          </div>
          
      </div>

<div class="col-lg-3 col-sm-10 mx-auto text-center">
<div class="row">

             <div title="View the explanier notebook" class="col-lg-6 col-sm-10 mx-auto text-center">
               <a href="https://github.com/gretarg09/Dtu-SocialGraphs-FinalProject/blob/master/Notebooks/explainer_notebook.ipynb">
                  <h3 class ="download">Notebook </h3>
               </a>
            </div>
          <div title="Download the Datasets" class="col-lg-6 col-sm-10 mx-auto text-center">
            <a href="https://www.dropbox.com/sh/uw5uw9n6gtfpii0/AAB5UGCmpe6XqpOqPdVUxPLda?dl=0">
              <h3 class ="download">Datasets</h3>
            </a>
          </div>      
</div>  

    </section>



    <section id="BasicStats">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading">Basic Stats</h2>
            <hr class="my-4">
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <p>In order to get a better feel for the dataset we take a look at some important measures of our datasets. We start off by looking at the scraped data from IMDB. The first figure shows the distribution of the ratings, while the second the storyline distribution. From the first figure we can see that most ratings are around 6.5. It is also interesting to see that there are very few movies with both low and high rating. As most people would rather watch movies with higher imdb rating, preferably higher than 7, we can use this information to influence the search engine.

            The second figure then shows the distribution of similarities between the movie storylines. Here we used TF-IDF and cosine similarity to calculate the similarity between movies. Most movies do not have any similarity, as you would expect. It would be pretty awful if the engine would conclude that cat women and Shawshank where the one and the same, wouldn’t it? However, the similarity dose quite good. The movies which are similar get a higher value, fx Iron man 1 and 2 are pretty similar. The figure below shows the distribution of the similarities, there we see that although the cosine distance is between 0 and 1, the values in the distribution are between 0 and 0.5. We utilize this fact when building the network. Note that the figure below excludes the movies with zero similarity, as they are so many that you can't really see the distribution of the other similarities. However, we point readers to look at the <span class="download">explainer notebook</span> for more detailed description.

              </p>
          </div>

          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/imdb_rating.PNG" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/imdb_similarity.PNG" alt="">
          </div>


        <p class = "addMargin">Now it’s time to go through the Kaggle dataset. As mentioned earlier, it has a bunch of variables. However, when building the network, they aren’t equally important. When watching a movie there are some things that are more important than others. You would watch a movie because it has great actors, directors, is a part of particular genre or has some exciting things about them. The figures below show the actor which have acted in most movies and the directors which have directed most movies, respectively. When looking at the names of both the actors one might think that Star Wars fan´s would be happy, as we have two great actors from there. Furthermore, it is surprising that Nicholas Cage is not in the most common actors, as he has acted allot! The directors are all well known, and as can be seen have directed many movies. One interesting thing regarding these results is that all the actors and the directors are male. This clearly shows the male dominance in the movie business. However, that is a material for another post.</p>
        

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/actors.PNG" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/directors.PNG" alt="">
          </div>

          <p class = "addMargin">
           Finally, we look at how the distribution of the genre is in the movies. We see that there is a huge class imbalance in our dataset, there are so many drama movies and so few TV movies. This is a problem we need to be aware of. However, if you search for a drama movie it is highly unlikely that you would like to see a TV movie. The correlation figure shows how much all the variables in the Kaggle dataset as well as the IMDB rating correlate with each other. 

           Next, we look at the popularity of keywords associated with each movie. Every movie in the Kaggle dataset has bunch of keywords associated to them. These words are supposed to describe the movie. It is interesting to see that women director is the most common keyword. It seems to be quite important to illustrate the fact that it was actually a woman that directed the movie. This again (we have seen this multiple times in the analysis) shows how male dominant this industry is. The fact that a woman directs the movie seems to be considered as a special feature of the movie and the movie producers think that it is important to illustrate that fact by having it as a keyword of the movie.
          Everything else seems to be like one could expect. The cities 'New York', 'Los Angeles' and 'London' are also highly used keywords which illustrates the fact that most movies are supposed to occur in these cities.
          Sex and love are also on the list which is not surprising, we all know that humans like to watch movies that involve love and sex scenes. More interestingly is to see that violence, revenge and murder are more frequently used than love and sex.


         </p>


        



          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/genres.PNG" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/keywords_pop.PNG" alt="">
          </div>

          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/CorrelationFig1.PNG" alt="">
          </div>

           <div class="col-lg-6 text-center addMargin">
            <p class = "addMargin">The figure here on the side shows the correlation between all the variables in the Kaggle dataset.
              The correlation between the TMDb rating and the IMDb rating is interesting, there seems to be less positive correlation between these values than one would expect. This is most likely do to the fact that the TMDb rating is based on much less data, fewer votes on average, than the IMDb rating. Based on these information’s we decided to only use the IMDb ratings in further analysis of the dataset.
            Interestingly we see that budget and revenue are highly positively correlated which means that if a movie has a high budget then the movie is more likely to get higher revenue in the end. Like everyone knows, you need to spend money to make money! The reader can look deeper into the figure to see how the variables in the dataset correlate. However, if the reader is lazy, like I am, I again highly recommend checking out the <span class="download">explanatory notebook</span> to be fed like a toddler.
</p>
          </div>

          <p class = "addMargin"> Next, we bring you the WORDCLOUD. The figures in the carousel down below show the keywords which describe each genre the best. It is interesting to see that woman director is frequently used keyword in comedies and romance movies. Love is frequently used in Fantasy movies, this is something one would probably not expect? or at least the writers of this post where clueless about. Most romantic movies seem to occur in New York, not Paris, I don’t believe the French will be happy with this. Either way, everything else is quite like you would expect, it is quite fun to see what keywords are used most frequently in each genre. I encourage an interested reader to take a look at these word clouds.</p>


          <div class="w3-content w3-section text-center centerImage" style="max-width:500px">
  <img class="mySlides" src="img/wordcloud/action.PNG" style="width:100%">
  <img class="mySlides" src="img/wordcloud/adventure.PNG" style="width:100%">
  <img class="mySlides" src="img/wordcloud/animation.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/comedy.PNG" style="width:100%">


  <img class="mySlides" src="img/wordcloud/crime.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/documentary.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/drama.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/Family.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/fantasy.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/foreign.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/hist.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/horror.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/music.PNG" style="width:100%">


  <img class="mySlides" src="img/wordcloud/Mystery.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/Romance.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/scienceFic.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/thrill.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/tvmov.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/war.PNG" style="width:100%">

  <img class="mySlides" src="img/wordcloud/western.PNG" style="width:100%">

  <button class="w3-button w3-black w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
  <button class="w3-button w3-black w3-display-right" onclick="plusDivs(1)">&#10095;</button>
</div>

<script>




var myIndex = 0;
showDivs(myIndex);
carousel();

function plusDivs(n) {
  showDivs(myIndex += n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {myIndex = 1}    
  if (n < 1) {myIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[myIndex-1].style.display = "block";  
}





function carousel() {
    var i;
    var x = document.getElementsByClassName("mySlides");
    for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";  
    }
    myIndex++;
    if (myIndex > x.length) {myIndex = 1}    
    x[myIndex-1].style.display = "block";  
    setTimeout(carousel, 5000); // Change image every 2 seconds
}
</script>

        </div>
      </div>
    </section>

    

    <section class="bg-dark text-white" id = "Sentimental">
      <div class="container text-center">
        <h2 class="mb-4">Text Analysis</h2>
        <hr class="my-4">
        <p>We start this section of by introducing a word cloud of the keywords. Every movie in the Kaggle dataset has bunch of keywords associated to them. These words are supposed to describe the movie. The figures in the carousel down below are generated by using TF-IDF where each genre is a document, Therefore the results should yield word´s which describe the genre the best.</p>




      </div>
    </section>

    <section class="" id = "Networks">

    <div class="container">
      <div class="row">

           <div class="col-lg-12">
            <h2 class="mb-4 text-center">Networks</h2>
            <hr class="my-4">
          </div>
         

          <div class="col-lg-12">
              <h4 class="mb-4">Intro</h4><p>The end goal is that a user inputs a name of a movie (which is a node a network) and from that movie we find all the shortest distances in the network and recommend those movies wich are closest. We decided it would be best to implement a weighted network, since nodes which are connected can have different importance. For example, if we have some movie, lets say 'Iron Man', our network can have multiple links from that movie. However, the movies it links to are not all equally similar to 'Iron Man', and thus we add a weights to the edges. Lastly a movie with few edges can be similar to some movies which are not connected to them directly, but there might be a short path in the network which connects them. We first tried three other networks that did not yield the desired result and wouldn't suffice as the basis of our recommendation engine. We therefore decided to combine those three networks and a bit more of data into one big network. The main network is built upon our analysis on the simpler networks. In order to make a link in the network, some similarities between the movies must exist. It was decided that what mattered in order to make a link between movies was: keywords, genres, actors/actresses and directors. In addition to that we looked at IMDb ratings and how similar the storylines of movies were.</p>
          </div>  

          <div class="col-lg-6">
              <h4 class="mb-4">Constructing the network</h4><p>
              When making the network various decisions regarding what constraints needed to be fulfilled to make an edge and what the weight of that edge should be. We start the discussion on the constraints. The constraints build upon four dimensions: genre, keywords, actors and director. All of these things are calculated in a similar fashion. We find all the common things in both movies, by their; genres, keywords, actors and directors and then we normalize it by dividing by the movie which has less items in each dimension. Each of these values are then multiplied by an importance coefficent, and if the total sum of the dimension varibles is more than 0.3 we make an edge. The value of the importance was choosen by guesswork and trial-and-error. Since there is no correct answer to which movies you recommend we tweaked it until we were happy with the results generated. There were some things we kept in mind though. Firstly, note that the sum of the dimension varibles can at maximum have the value of 1. Next when looking at the importance coefficent, one can observe that none of them has a value greater than 0.3. This forces our network to make a connection only if at least two dimension variables are shared. Next when assigning a weight to the edge we subtract both the sum of the varibles which satisfied the constraint and the similarities between the movies with 1. This way, movies that have similar keywords, genre, actors, directors and storylines are closer in the network. Note that we use the similarity between storylines only in deciding on the weight of the edge. The reason for this is that altough the movies might have similar storylines the movies could be very different. For example a romance and a horrors story might connect, depending on the language used in the storyline on IMDB. Furthermore, there exists only so few storylines.</p>
          </div>  

          <div class="col-lg-6">
             <h4 class="mb-4">Information about the network</h4><p>We can see from the images below that this network looks good. The network has 4.794 nodes and 71.718 edges, the cluster coefficient is ~0.35 and modularity of our communities is ~0.59 which is quite high, especially considering there are only 9 communities. The degree distribution follows a power law. The minimum and maximum degree of the network is 0 and 394 respectively, the median degree is 13 and the mean degree is ~30. Deciding which properties and their weight to use took some time and was mostly fine-tuned through trial-and-error. Testing the recommendation engine proves that this works quite well and we're pleased with the results. We tested it on 'Iron Man 2' and the 5 most similar movies according to the network were: 'Iron Man', 'Iron Man 3', 'Captain America: Civil War', 'Zathura: A Space Adventure' and 'Avengers: Age Of Ultron'. Only movie that kinda stood out there in our eyes was 'Zathura' but it turns out that, among other things, it is directed by the same director as 'Iron Man 2'.</p>

            <div class="col-lg-12 text-center">
              <img class="img-fluid" src="img/main_network1.PNG" alt="">
            </div>
          </div> 

          <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/degree_distribution1.PNG" alt="">
          </div>

           <div class="col-lg-6 text-center">
            <img class="img-fluid" src="img/degree_distribution2.PNG" alt="">
          </div>

          <div class="col-lg-12 text-center">
            <img class="img-fluid" src="img/main_network_communities_giant.PNG" alt="">
          </div>


          <!-- now that we have used up all the 12 coloumbs in this row , lets go create a new "row class" , Alas in the same container -->
      </div>  <!-- end of row -->
      

    </section>


 <section class="bg-dark text-white" id = "Conclusion">
      <div class="container text-center">
        <h2 class="mb-4">Conclusion</h2>
        <hr class="my-4">
        <p>We are all huge movie fans and therefore we had a lot of fun doing this project. We did a lot of analysis on the data set like you have probably noticed. We are quite happy about our findings and we are really proud of the final version of the recommendation engine. The recommendation engine is functioning quite well and we'll definitely be using it ourselves during the x-mas break when looking for movies to watch and we encourage you to try it out on the website.
        <br>
        <br>
        Although it turned out great we tried quite a lot of different things before we were satisfied. For the network part we looked at three different networks. We created a network where movies were connected if they shared a certain percentage of their keywords. We did the same for genres as well as one network where nodes were cast members and nodes were linked if the cast members had starred together in a certain number of movies. After analyzing each of the networks we decided that none of them were good enough. This resulted in us creating a fourth network (can be seen above) which would combine the properties of the previous three. Movies were nodes and to create links to other movies we looked at multiple properties e.g. cast members, keywords, genres, directors and similarities in story line. After links have been created and we’re in the process of recommending we also look at IMDb ratings.
        <br>
        <br>
        The text analysis itself went well but it ended up not being used in the recommendation engine except for the storylines of the movies. The reason for this was that the data we had for text analysis, ~14.000 reviews and ~1.000 movie scripts, only applied to a subset of our 4800 movies. We didn't want to make the number of movies that we could recommend less than it was at the beginning. We did a lot of text analysis and made a proof of concept that the data could’ve been used in the recommendation engine. This tells us that we could have further improved the engine by getting manuscripts and reviews for all our movies. If not the manuscripts then we could've perhaps gotten the subtitle texts for each movie and do the same analysis on those texts and used the information to further improve our engine.</p>




      </div>
    </section>

 <section id="searcher">
      <div class=" text-center">
        
            <h2 class="section-heading">The Searcher</h2>
            <hr class="my-4">
              <div class="search">
              
                <input type="text" name="inputBox" placeholder="enter movie title here" id="term" />
              
                <button id="search" class="search_btn"><span class="icon-search"></span> <i class="icon-large icon-search"></i> Search</button>


                <div id="poster"></div>
        <div id="buttons"></div>

    </div>
         
      </div>
    </section>





    <section id="contact">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <h2 class="section-heading">Let's Get In Touch!</h2>
            <hr class="my-4">
            <p class="mb-5">Ready to start your next project with us? That's great! Give us a call or send us an email and we will get back to you as soon as possible!</p>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4 ml-auto text-center">
            <i class="fa fa-phone fa-3x mb-3 sr-contact"></i>
            <p>123-456-6789</p>
          </div>
          <div class="col-lg-4 mr-auto text-center">
            <i class="fa fa-envelope-o fa-3x mb-3 sr-contact"></i>
            <p>
              <a href="mailto:your-email@your-domain.com">IngvarBjarki@startbootstrap.com</a>
            </p>
          </div>
        </div>
      </div>
    </section>


   <!--  <script src="js/cour.js"></script> -->

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
     
     

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>


 

    <!-- Custom scripts for this template -->
    <script src="js/creative.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

       <!-- Autocomplite -->
     <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js" ></script>

    <!-- the search enginee -->
    <script src="js/jscript.js"></script>



  </body>

</html>
